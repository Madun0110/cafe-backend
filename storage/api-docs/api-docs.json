{
    "openapi": "3.0.0",
    "info": {
        "title": "Cafe Backend API",
        "description": "Dokumentasi API Cafe Backend",
        "version": "1.0.0"
    },
    "paths": {
        "/api/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login user dan mendapatkan JWT token",
                "operationId": "dd51a484b7fa0f97c7680fdbde14cf5f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "admin@gmail.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "12345678"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login berhasil",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "access_token": {
                                            "type": "string"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        },
                                        "expires_in": {
                                            "type": "integer",
                                            "example": 3600
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials"
                    }
                }
            }
        },
        "/api/auth/me": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Ambil data user yang sedang login",
                "operationId": "b5de204f5e452ef51327c691aa99e77c",
                "responses": {
                    "200": {
                        "description": "Data user berhasil diambil"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/auth/refresh": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Refresh JWT token",
                "operationId": "30c20c52f5f72828d8c531fd7c9ea3e7",
                "requestBody": {
                    "description": "Token bisa dikirim lewat Authorization header atau lewat body",
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "token": {
                                        "type": "string",
                                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Token berhasil diperbarui",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "access_token": {
                                            "type": "string"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        },
                                        "expires_in": {
                                            "type": "integer",
                                            "example": 3600
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized / Token tidak valid"
                    }
                }
            }
        },
        "/api/auth/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Logout user dan invalidasi token",
                "operationId": "df9bdc6c7a6d9f20b983526b2ec0f698",
                "responses": {
                    "200": {
                        "description": "Logout berhasil"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/categories": {
            "get": {
                "tags": [
                    "Admin Categories"
                ],
                "summary": "Ambil semua kategori",
                "description": "Mengambil seluruh data kategori yang diurutkan berdasarkan nama",
                "operationId": "8d1f4bde675020dc997b55638b08a383",
                "responses": {
                    "200": {
                        "description": "Berhasil mengambil data kategori",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Minuman"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Gagal memuat kategori"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Admin Categories"
                ],
                "summary": "Tambah kategori baru",
                "description": "Membuat kategori baru",
                "operationId": "aa041b5b2a9b03d32fee81dba5e0f708",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Snack"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Kategori berhasil dibuat",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Category created"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Snack"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/categories/{id}": {
            "get": {
                "tags": [
                    "Admin Categories"
                ],
                "summary": "Ambil detail kategori",
                "description": "Mengambil satu kategori berdasarkan ID",
                "operationId": "e1b7744e6caa30a2764e59365e1b6eb8",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID kategori",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Kategori ditemukan",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Minuman"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Kategori tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Admin Categories"
                ],
                "summary": "Update kategori",
                "description": "Memperbarui data kategori berdasarkan ID",
                "operationId": "d8dbf528c003e90cfe89f19a6a7eaef7",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Minuman Panas"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Kategori berhasil diupdate"
                    },
                    "404": {
                        "description": "Kategori tidak ditemukan"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Admin Categories"
                ],
                "summary": "Hapus kategori",
                "description": "Menghapus kategori berdasarkan ID",
                "operationId": "4a74ea48ec447eecb305a253e1fcf12d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Kategori berhasil dihapus"
                    },
                    "404": {
                        "description": "Kategori tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/orders": {
            "get": {
                "tags": [
                    "Admin Orders"
                ],
                "summary": "Ambil semua pesanan",
                "description": "Mengambil seluruh data pesanan beserta transaksi, diurutkan dari yang terbaru",
                "operationId": "bd28d4677d3217255664864122c057f3",
                "responses": {
                    "200": {
                        "description": "Berhasil mengambil daftar pesanan",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/orders/{id}": {
            "get": {
                "tags": [
                    "Admin Orders"
                ],
                "summary": "Ambil detail pesanan",
                "description": "Mengambil detail pesanan berdasarkan ID",
                "operationId": "c1f954b8c64b3af1c15d9ea61232cf73",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID Order",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pesanan ditemukan",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Order tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Admin Orders"
                ],
                "summary": "Hapus pesanan",
                "description": "Menghapus pesanan yang belum completed",
                "operationId": "2ad07571ebb91cc422288404d5f523bf",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pesanan berhasil dihapus"
                    },
                    "403": {
                        "description": "Pesanan yang sudah selesai tidak boleh dihapus"
                    },
                    "404": {
                        "description": "Order tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/orders/{id}/status": {
            "patch": {
                "tags": [
                    "Admin Orders"
                ],
                "summary": "Update status pesanan",
                "description": "Mengubah status order (pending, processing, ready, completed, cancelled)",
                "operationId": "de13e19ed91dc2454329b8ee3193ab70",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "status"
                                ],
                                "properties": {
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "pending",
                                            "processing",
                                            "ready",
                                            "completed",
                                            "cancelled"
                                        ],
                                        "example": "processing"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Status berhasil diperbarui"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "404": {
                        "description": "Order tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/orders/{orderId}/item/{index}": {
            "patch": {
                "tags": [
                    "Admin Orders"
                ],
                "summary": "Update status item dalam order",
                "description": "Mengubah status satu item di dalam field JSON items",
                "operationId": "5c212fc775825aea1232bbafffb7deab",
                "parameters": [
                    {
                        "name": "orderId",
                        "in": "path",
                        "description": "ID Order",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "index",
                        "in": "path",
                        "description": "Index item di array items",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "status": {
                                        "description": "Status item (default: completed)",
                                        "type": "string",
                                        "example": "completed"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Status item berhasil diperbarui"
                    },
                    "404": {
                        "description": "Order atau item tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/products": {
            "get": {
                "tags": [
                    "Admin Products"
                ],
                "summary": "Ambil semua produk",
                "description": "Mengambil seluruh data produk beserta relasi kategori",
                "operationId": "2fc2041edf0c90f28c10c98be120d45d",
                "responses": {
                    "200": {
                        "description": "Berhasil mengambil daftar produk",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Admin Products"
                ],
                "summary": "Tambah produk baru",
                "description": "Membuat produk baru dengan upload gambar (multipart/form-data)",
                "operationId": "55ece617053b636d701a1544ef1f98ac",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "name",
                                    "description",
                                    "price",
                                    "is_available",
                                    "category_id"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Cappuccino"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Kopi susu panas"
                                    },
                                    "price": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 25000
                                    },
                                    "is_available": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "category_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "image": {
                                        "description": "File gambar produk",
                                        "type": "string",
                                        "format": "binary",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Produk berhasil dibuat"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/products/{id}": {
            "get": {
                "tags": [
                    "Admin Products"
                ],
                "summary": "Ambil detail produk",
                "description": "Mengambil satu produk berdasarkan ID beserta kategorinya",
                "operationId": "ce5fe920eef0937fee0a95266eaf399d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID produk",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Produk ditemukan"
                    },
                    "404": {
                        "description": "Produk tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Admin Products"
                ],
                "summary": "Update produk",
                "description": "Memperbarui data produk dan dapat mengganti gambar",
                "operationId": "88bfe518f894cf86a769011d8e8f75f4",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "name",
                                    "description",
                                    "price",
                                    "is_available",
                                    "category_id"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Latte"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Kopi susu creamy"
                                    },
                                    "price": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 22000
                                    },
                                    "is_available": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "category_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "image": {
                                        "description": "Upload gambar baru (opsional)",
                                        "type": "string",
                                        "format": "binary",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Produk berhasil diupdate"
                    },
                    "404": {
                        "description": "Produk tidak ditemukan"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Admin Products"
                ],
                "summary": "Hapus produk",
                "description": "Menghapus produk beserta gambar yang tersimpan",
                "operationId": "b8e07f8189fc2be4eefc5f51dff75f77",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Produk berhasil dihapus"
                    },
                    "404": {
                        "description": "Produk tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/transactions": {
            "get": {
                "tags": [
                    "Admin Transactions"
                ],
                "summary": "Ambil semua transaksi",
                "description": "Mengambil seluruh data transaksi beserta relasi order",
                "operationId": "6ffdc60927f92c379d6cbb20b9490aa8",
                "responses": {
                    "200": {
                        "description": "Berhasil mengambil daftar transaksi",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Admin Transactions"
                ],
                "summary": "Konfirmasi pembayaran / buat transaksi",
                "description": "Membuat transaksi baru atau mengupdate transaksi lama menjadi paid, sekaligus mengubah order.payment_status menjadi paid",
                "operationId": "a1ad9683ef73b722dca65dc85d264edc",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "order_id",
                                    "payment_method"
                                ],
                                "properties": {
                                    "order_id": {
                                        "type": "integer",
                                        "example": 10
                                    },
                                    "payment_method": {
                                        "type": "string",
                                        "example": "cash"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Pembayaran berhasil dikonfirmasi"
                    },
                    "409": {
                        "description": "Order sudah dibayar"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/transactions/{id}": {
            "get": {
                "tags": [
                    "Admin Transactions"
                ],
                "summary": "Ambil detail transaksi",
                "description": "Mengambil satu transaksi berdasarkan ID beserta order terkait",
                "operationId": "b401477f64714b13d759a0ab26c10ffc",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID transaksi",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Transaksi ditemukan"
                    },
                    "404": {
                        "description": "Transaksi tidak ditemukan"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/transactions/{id}/refund": {
            "post": {
                "tags": [
                    "Admin Transactions"
                ],
                "summary": "Refund transaksi",
                "description": "Mengubah status transaksi menjadi refunded dan membatalkan order terkait",
                "operationId": "46be35f7cb76af7034eb2bd2c2138dca",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID transaksi",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Refund berhasil"
                    },
                    "404": {
                        "description": "Transaksi tidak ditemukan"
                    },
                    "400": {
                        "description": "Transaksi tidak valid untuk refund"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/guest/categories": {
            "get": {
                "tags": [
                    "Guest Categories"
                ],
                "summary": "Ambil daftar kategori untuk guest",
                "description": "Mengambil semua kategori yang diurutkan berdasarkan nama. Digunakan oleh frontend guest untuk filter menu.",
                "operationId": "cf589d986c6f6ddf04d33d40d81f825c",
                "responses": {
                    "200": {
                        "description": "Berhasil mengambil data kategori",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Kopi"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Fallback: mengembalikan data kategori default jika terjadi error"
                    }
                }
            }
        },
        "/api/guest/menu": {
            "get": {
                "tags": [
                    "Guest Products"
                ],
                "summary": "Ambil semua produk (tanpa filter availability)",
                "description": "Mengambil semua produk beserta kategori. Biasanya dipakai untuk kebutuhan admin atau internal.",
                "operationId": "7fc6cd80dac8a20d555783a654f9fb13",
                "responses": {
                    "200": {
                        "description": "Berhasil mengambil semua produk",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Espresso"
                                                    },
                                                    "price": {
                                                        "type": "number",
                                                        "format": "float",
                                                        "example": 18000
                                                    },
                                                    "is_available": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "category_name": {
                                                        "type": "string",
                                                        "example": "Minuman"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Gagal mengambil produk"
                    }
                }
            }
        },
        "/api/guest/order": {
            "post": {
                "tags": [
                    "Guest Orders"
                ],
                "summary": "Membuat order baru",
                "description": "Menerima data order dari guest. Bisa berupa cart_json (dari Blade FE) atau array products langsung.",
                "operationId": "98d7a63b20bf04f779f35b5ef0eac1a4",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "table",
                                    "customer_name",
                                    "customer_phone",
                                    "payment_method",
                                    "products"
                                ],
                                "properties": {
                                    "table": {
                                        "description": "Nomor/meja pelanggan",
                                        "type": "string",
                                        "example": "A1"
                                    },
                                    "customer_name": {
                                        "type": "string",
                                        "example": "Budi"
                                    },
                                    "customer_phone": {
                                        "type": "string",
                                        "example": "08123456789"
                                    },
                                    "payment_method": {
                                        "type": "string",
                                        "example": "cash"
                                    },
                                    "products": {
                                        "description": "Daftar produk yang dipesan",
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "id",
                                                "quantity"
                                            ],
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "quantity": {
                                                    "type": "integer",
                                                    "example": 2
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "cart_json": {
                                        "description": "Alternatif input jika request berasal dari Blade FE",
                                        "type": "string",
                                        "example": "[{\"id\":1,\"quantity\":2},{\"id\":3,\"quantity\":1}]",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Order berhasil dibuat",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Order created successfully"
                                        },
                                        "data": {
                                            "description": "Detail order beserta transaksi",
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "table": {
                                                    "type": "string",
                                                    "example": "A1"
                                                },
                                                "customer_name": {
                                                    "type": "string",
                                                    "example": "Budi"
                                                },
                                                "customer_phone": {
                                                    "type": "string",
                                                    "example": "08123456789"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "pending"
                                                },
                                                "total": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 75000
                                                },
                                                "items": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "product_id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "product_name": {
                                                                "type": "string",
                                                                "example": "Cappuccino"
                                                            },
                                                            "category_name": {
                                                                "type": "string",
                                                                "example": "Minuman"
                                                            },
                                                            "quantity": {
                                                                "type": "integer",
                                                                "example": 2
                                                            },
                                                            "price": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 25000
                                                            },
                                                            "total": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 50000
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "transaction": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 5
                                                        },
                                                        "payment_method": {
                                                            "type": "string",
                                                            "example": "cash"
                                                        },
                                                        "total": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 75000
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Internal server error"
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "description": "Masukkan token JWT dengan format: Bearer {token}",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Authentication",
            "description": "Endpoint autentikasi menggunakan JWT"
        },
        {
            "name": "Admin Categories",
            "description": "Endpoint CRUD kategori untuk admin site"
        },
        {
            "name": "Admin Orders",
            "description": "Manajemen pesanan untuk admin (list, detail, update status, update item, hapus)"
        },
        {
            "name": "Admin Products",
            "description": "Manajemen produk untuk admin (CRUD produk beserta upload gambar)"
        },
        {
            "name": "Admin Transactions",
            "description": "Manajemen transaksi pembayaran dan refund oleh admin"
        },
        {
            "name": "Guest Categories",
            "description": "Endpoint API kategori untuk kebutuhan guest / frontend"
        },
        {
            "name": "Guest Orders",
            "description": "Endpoint API untuk pembuatan order oleh guest / frontend"
        },
        {
            "name": "Guest Products",
            "description": "Guest Products"
        }
    ]
}